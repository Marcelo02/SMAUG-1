<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>ES_Main</name>
    <events>
        <variable constant="0" name="Life" sid="441775076286705" static="0" type="number">10</variable>
        <variable comment="Munição da pistola" constant="0" name="Pistol_ammo" sid="796144984213042" static="0" type="number">7</variable>
        <comment>COMANDO DE DEBUG PARA FLUTUAR, REMOVER NO FINAL DO DESENVOLVIMENTO</comment>
        <event-block sid="173305970528910">
            <conditions>
                <condition id="2" name="Key is down" sid="905536553705085" type="Keyboard">
                    <param id="0" name="Key">186</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Set Y" sid="664118998674063" type="Player">
                    <param id="0" name="Y">Player.Y-50</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="514908993439039" title="Base">
            <sub-events>
                <event-block sid="780154469662389">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="733354352608010" type="takemeto_andar3">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="740525352523432" type="System">
                            <param id="0" name="Layout">L_Andar3</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="759556685233396" title="Movimentação">
            <sub-events>
                <event-block sid="603046528305302">
                    <conditions>
                        <condition id="2" name="Key is down" sid="718505573658323" type="Keyboard">
                            <param id="0" name="Key">68</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="958025980913183" type="Player">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="903410193129172" type="Player">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="780554961214597">
                    <conditions>
                        <condition id="2" name="Key is down" sid="394740281444027" type="Keyboard">
                            <param id="0" name="Key">65</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="660535940035522" type="Player">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="188362724204387" type="Player">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="430663763075292">
                    <conditions>
                        <condition id="2" name="Key is down" sid="255514154154811" type="Keyboard">
                            <param id="0" name="Key">32</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="486523330953231" type="Player">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="187617254717265">
                    <conditions>
                        <condition id="2" name="Key is down" sid="811558288709007" type="Keyboard">
                            <param id="0" name="Key">83</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="12" name="Fall through" sid="840494193613629" type="Player" />
                        <action behavior="8Direction" id="7" name="Simulate control" sid="145029213871677" type="Player">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="500283535413180">
                    <conditions>
                        <condition id="2" name="Key is down" sid="552609539157340" type="Keyboard">
                            <param id="0" name="Key">87</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="130833428831436" type="Player">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Sistema de Movimento que usa as variáveis para executar as ações ao invés de executar as ações quando o botão é apertado, isso serve para estabelecer as regras de movimento de Karla</comment>
                <comment>Construct executa eventos em sua ordem, se uma variável (velocidade) foi configurada em evento 13, o evento 19 pode sobrescrever essa configuração até que evento 19 não esteja rodando</comment>
                <event-block sid="713265731149752">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="883671179972868" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Corrida / Ajusta a velocidade, pra que lado Karla está olhando, e se ela pode atirar dependendo do estado da variável Correndo</comment>
                        <comment>Eventos que alteram a variável</comment>
                        <event-block sid="857546713287400">
                            <conditions>
                                <condition id="3" name="On key released" sid="462893698471475" type="Keyboard">
                                    <param id="0" name="Key">17</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="360066167908451" type="Player">
                                    <param id="0" name="Instance variable">Agachando</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="720874041830788">
                            <conditions>
                                <condition id="3" name="On key released" sid="823477283204615" type="Keyboard">
                                    <param id="0" name="Key">16</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="691202891998408" type="Player">
                                    <param id="0" name="Instance variable">Correndo</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="605666268008497">
                            <conditions>
                                <condition id="2" name="Key is down" sid="931572889840016" type="Keyboard">
                                    <param id="0" name="Key">17</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="836025113098389" type="Player">
                                    <param id="0" name="Instance variable">Agachando</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="580852263469397">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="722296931787889" type="Player">
                                    <param id="0" name="Instance variable">Correndo</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="1" name="Set max speed" sid="142328303308175" type="Player">
                                    <param id="0" name="Max Speed">560</param>
                                </action>
                                <action id="-15" name="Set visible" sid="710447324507348" type="Braço">
                                    <param id="0" name="Visibility">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="386969475517412">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="102644464337781" type="Keyboard">
                                            <param id="0" name="Key">65</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="145941155164078" type="Player">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="682866345116990">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="966561649963945" type="Keyboard">
                                            <param id="0" name="Key">68</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="724967064648194" type="Player">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="389763694143886">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="168078984543881" type="Player">
                                    <param id="0" name="Instance variable">Correndo</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="1" name="Set max speed" sid="974775181761451" type="Player">
                                    <param id="0" name="Max Speed">360</param>
                                </action>
                                <action id="-15" name="Set visible" sid="536149154286132" type="Braço">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="631237926018202">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="683072098071408" type="Aim">
                                            <param id="0" name="Comparison">2</param>
                                            <param id="1" name="X co-ordinate">player.X</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="209344327884401" type="Player">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="609041012620726">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="111825385430220" type="Aim">
                                            <param id="0" name="Comparison">4</param>
                                            <param id="1" name="X co-ordinate">player.X</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="528716764029427" type="Player">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>Agachar / Ajusta sprite, velocidade, e alcance de pulo dependendo do estado da variável Agachando</comment>
                        <event-block sid="481028034086428">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="316705728746623" type="Player">
                                    <param id="0" name="Instance variable">Agachando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="476713385333627" type="Player">
                                    <param id="0" name="Frame number">1</param>
                                </action>
                                <action behavior="Platform" id="4" name="Set jump strength" sid="977702785210804" type="Player">
                                    <param id="0" name="Jump strength">600</param>
                                </action>
                                <action behavior="Platform" id="1" name="Set max speed" sid="648016665460743" type="Player">
                                    <param id="0" name="Max Speed">220</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="629529831673314">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="122266132703328" type="Player">
                                    <param id="0" name="Instance variable">Agachando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="558517856241218" type="Player">
                                    <param id="0" name="Frame number">0</param>
                                </action>
                                <action behavior="Platform" id="4" name="Set jump strength" sid="580586070710270" type="Player">
                                    <param id="0" name="Jump strength">500</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Deslizar / Ajusta sprite, desaceleração e velocidade máxima. Após 100 milisegundos de ativação, ignorar movimento do player até a variável voltar para 0 (inércia do deslizar)</comment>
                        <event-block sid="319415757994513">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="354182734846897" type="Player">
                                    <param id="0" name="Instance variable">Deslizando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="673754791926230" type="Player">
                                    <param id="0" name="Frame number">2</param>
                                </action>
                                <action behavior="Platform" id="3" name="Set deceleration" sid="549096519523956" type="Player">
                                    <param id="0" name="Deceleration">450</param>
                                </action>
                                <action behavior="Platform" id="1" name="Set max speed" sid="317596806036309" type="Player">
                                    <param id="0" name="Max Speed">600</param>
                                </action>
                                <action id="-16" name="Wait" sid="274171153251926" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action behavior="Platform" id="0" name="Set ignoring input" sid="150693293071394" type="Player">
                                    <param id="0" name="Input">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Se for necessário adicionar alguma condição</comment>
                                <event-block sid="618906379118795">
                                    <conditions>
                                        <condition id="0" name="On key pressed" sid="605871550709101" type="Keyboard">
                                            <param id="0" name="Key">17</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="267044447167984" type="Player">
                                            <param id="0" name="Instance variable">Deslizando</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="841514610149626">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="934275285396087" type="Player">
                                    <param id="0" name="Instance variable">Deslizando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="3" name="Set deceleration" sid="914932911154258" type="Player">
                                    <param id="0" name="Deceleration">5000</param>
                                </action>
                                <action behavior="Platform" id="0" name="Set ignoring input" sid="132360300999820" type="Player">
                                    <param id="0" name="Input">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Movimentação da escada</comment>
                <event-block sid="283426479087807">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="318886354478006" type="Player">
                            <param id="0" name="Object">stair_collision</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="563082186570518" type="Climb">
                            <param id="0" name="Name">&quot;Start&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="855575295202433">
                    <conditions>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="246822862634677" type="Player">
                            <param id="0" name="Object">stair_collision</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="372345873651810" type="Climb">
                            <param id="0" name="Name">&quot;Stop&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="590691237914923">
                    <conditions>
                        <condition id="0" name="On function" sid="367531765328444" type="Climb">
                            <param id="0" name="Name">&quot;Start&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="11" name="Set enabled" sid="319730413757459" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                        <action behavior="Platform" id="9" name="Set vector Y" sid="529367868493083" type="Player">
                            <param id="0" name="Vector Y">0</param>
                        </action>
                        <action behavior="Platform" id="8" name="Set vector X" sid="689940174658622" type="Player">
                            <param id="0" name="Vector X">0</param>
                        </action>
                        <action behavior="8Direction" id="8" name="Set enabled" sid="406981280125745" type="Player">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="522645841981610">
                    <conditions>
                        <condition id="0" name="On function" sid="202027863255685" type="Climb">
                            <param id="0" name="Name">&quot;Stop&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="8" name="Set enabled" sid="779603842942925" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                        <action behavior="8Direction" id="9" name="Set vector X" sid="554165283867163" type="Player">
                            <param id="0" name="Vector X">0</param>
                        </action>
                        <action behavior="8Direction" id="10" name="Set vector Y" sid="314727642868926" type="Player">
                            <param id="0" name="Vector Y">0</param>
                        </action>
                        <action behavior="Platform" id="11" name="Set enabled" sid="853009635903859" type="Player">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="471540372311781">
                    <conditions>
                        <condition id="2" name="Key is down" sid="829106303005979" type="Keyboard">
                            <param id="0" name="Key">16</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="442996197634607" type="Player">
                            <param id="0" name="Instance variable">Correndo</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="871728377400111" type="Player">
                            <param id="0" name="Instance variable">Agachando</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Se jogador apertar Ctrl enquanto segura Shift e estiver se movimentando, deslizar por 350 milisegundos</comment>
                        <event-block sid="523071063214231">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="515627659355073" type="Keyboard">
                                    <param id="0" name="Key">17</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="990609118368200" type="System">
                                    <param id="0" name="First value">Player.Platform.Speed</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                                <condition behavior="Platform" id="2" name="Is on floor" sid="770211805354055" type="Player" />
                                <condition id="2" inverted="1" name="Mouse button is down" sid="349651520137153" type="Mouse">
                                    <param id="0" name="Mouse button">2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="177396520559057" type="Player">
                                    <param id="0" name="Instance variable">Deslizando</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-16" name="Wait" sid="880482508379725" type="System">
                                    <param id="0" name="Seconds">0.35</param>
                                </action>
                                <action id="-10" name="Set value" sid="423861120989175" type="Player">
                                    <param id="0" name="Instance variable">Deslizando</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="811742744320376" title="Sistema de tiro">
            <sub-events>
                <event-block sid="852706111621082">
                    <conditions>
                        <condition id="0" name="On click" sid="503084630787811" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="173995509526839" type="System">
                            <param id="0" name="Variable">Pistol_ammo</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-9" name="Is visible" sid="622579043156853" type="Braço" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="681257061013065" type="Player">
                            <param id="0" name="Object">bullet_player</param>
                            <param id="1" name="Layer">3</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-22" name="Set angle toward position" sid="810278101606226" type="bullet_player">
                            <param id="0" name="X">mouse.X</param>
                            <param id="1" name="Y">mouse.Y</param>
                        </action>
                        <action id="-11" name="Subtract from" sid="785783556958233" type="System">
                            <param id="0" name="Variable">Pistol_ammo</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="798053565341336">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="370327673579829" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="859698063236800" type="Aim">
                            <param id="0" name="X">mouse.X</param>
                            <param id="1" name="Y">mouse.Y</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Colisão das balas em objetos sólidos</comment>
                <event-block any="1" sid="336422874025768">
                    <conditions>
                        <condition id="-4" name="Is outside layout" sid="486985243759859" type="bullet_player" />
                        <condition id="0" name="On collision with another object" sid="796651571292447" type="bullet_player">
                            <param id="0" name="Object">Wall</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="289345154463998" type="bullet_player">
                            <param id="0" name="Object">Andar3_Tiles1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="837643398097923" type="bullet_player" />
                    </actions>
                </event-block>
                <event-block any="1" sid="547099538642837">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="872794191164653" type="bullet_player">
                            <param id="0" name="Object">covr_crate</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="346936208609715" type="bullet_player" />
                    </actions>
                </event-block>
                <event-block any="1" sid="826012261720970">
                    <conditions>
                        <condition id="-4" name="Is outside layout" sid="889909369241702" type="bullet_enemy" />
                        <condition id="0" name="On collision with another object" sid="566104974759665" type="bullet_enemy">
                            <param id="0" name="Object">Wall</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="523092160278021" type="bullet_enemy">
                            <param id="0" name="Object">Andar3_Tiles1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="486573718459020" type="bullet_enemy" />
                    </actions>
                </event-block>
                <event-block any="1" sid="896227199814761">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="663153111881777" type="bullet_enemy">
                            <param id="0" name="Object">covr_crate</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="304412581172406" type="bullet_enemy" />
                    </actions>
                </event-block>
                <comment>Sistema de Mira, também sobrecreve o evento 24 e ignora o comando de corrida</comment>
                <event-block sid="910442961541336">
                    <conditions>
                        <condition id="2" name="Mouse button is down" sid="572489318245257" type="Mouse">
                            <param id="0" name="Mouse button">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="317555943353631" type="Player">
                            <param id="0" name="Instance variable">Correndo</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action behavior="ScrollTo" id="1" name="Set enabled" sid="687324191416346" type="Aim">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="-7" name="Set size" sid="553560330156448" type="Aim">
                            <param id="0" name="Width">15</param>
                            <param id="1" name="Height">15</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="645178702816181">
                    <conditions>
                        <condition id="2" inverted="1" name="Mouse button is down" sid="860111371951958" type="Mouse">
                            <param id="0" name="Mouse button">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="ScrollTo" id="1" name="Set enabled" sid="538462780750765" type="Aim">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="-7" name="Set size" sid="823645201218437" type="Aim">
                            <param id="0" name="Width">10</param>
                            <param id="1" name="Height">10</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="998038350258395">
                    <conditions>
                        <condition id="-18" name="On created" sid="823609453884400" type="Player" />
                    </conditions>
                    <actions>
                        <action behavior="Pin" id="0" name="Pin to object" sid="652439853756476" type="Braço">
                            <param id="0" name="Pin to">Player</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="136298287376348">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="301942718644683" type="System" />
                    </conditions>
                    <actions>
                        <action id="-22" name="Set angle toward position" sid="287113265407745" type="Braço">
                            <param id="0" name="X">mouse.X</param>
                            <param id="1" name="Y">mouse.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="583013585130595" title="Munição">
                    <sub-events>
                        <event-block sid="348255153168473">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="550151829392453" type="Keyboard">
                                    <param id="0" name="Key">82</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="492066416566987" type="System">
                                    <param id="0" name="Variable">Pistol_ammo</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">7</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="359478904991292" type="Player">
                                    <param id="0" name="Instance variable">Recarregando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="578502606509704" type="Player">
                                    <param id="0" name="Instance variable">Recarregando</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-16" name="Wait" sid="764602559725011" type="System">
                                    <param id="0" name="Seconds">2.5</param>
                                </action>
                                <action id="-9" name="Set value" sid="626535039440954" type="System">
                                    <param id="0" name="Variable">Pistol_ammo</param>
                                    <param id="1" name="Value">7</param>
                                </action>
                                <action id="-10" name="Set value" sid="698096057967691" type="Player">
                                    <param id="0" name="Instance variable">Recarregando</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="212222538513135">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="472526470939787" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="107710405746063" type="Ammo">
                                    <param id="0" name="Text">&quot;Ammo:&quot;&amp;Pistol_ammo &amp;&quot;/7&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="606870855215746" title="Inimigos">
            <sub-events>
                <event-group description="" sid="202133821647708" title="Inimigo 1: A turret">
                    <sub-events>
                        <event-block sid="604271559194613">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="623097307772426" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Turret" id="0" name="Acquire target" sid="206770842335024" type="Enemy_1">
                                    <param id="0" name="Target">Player</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="134077259478863">
                            <conditions>
                                <condition behavior="Turret" id="1" name="On shoot" sid="170578171129438" type="Enemy_1" />
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="966349448334296" type="Enemy_1">
                                    <param id="0" name="Object">bullet_enemy</param>
                                    <param id="1" name="Layer">3</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="726529855182037">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="687277796100482" type="bullet_player">
                                    <param id="0" name="Object">Enemy_1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="637681729678158" type="Enemy_1">
                                    <param id="0" name="Instance variable">Life_turret</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-9" name="Destroy" sid="678509874494837" type="bullet_player" />
                            </actions>
                        </event-block>
                        <event-block sid="907437267614411">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="177826186721773" type="Enemy_1">
                                    <param id="0" name="Instance variable">Life_turret</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="303095127771547" type="Enemy_1" />
                            </actions>
                        </event-block>
                        <event-block sid="908130180763373">
                            <conditions>
                                <condition id="-4" name="Is outside layout" sid="378045605096670" type="bullet_enemy" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="167053238466302" type="bullet_enemy" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="428544868867620" title="Inimigo 2: O Drone Explosivo">
                    <sub-events>
                        <event-block sid="679436246599048">
                            <conditions>
                                <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="456093024948317" type="Enemy_2">
                                    <param id="0" name="Object">Player</param>
                                </condition>
                                <condition behavior="Flash" id="0" inverted="1" name="Is flashing" sid="140194519830938" type="Player" />
                                <condition id="-9" name="Is visible" sid="533145209093624" type="Player" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="978411677259279" type="Enemy_2">
                                    <param id="0" name="Instance variable">Idle</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="795716231232129">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="727707378727504" type="Enemy_2">
                                    <param id="0" name="Instance variable">Idle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Sine" id="0" name="Set active" sid="767818514728633" type="Enemy_2">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="Bullet" id="5" name="Set enabled" sid="479795306750147" type="Enemy_2">
                                    <param id="0" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="136570814197378">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="462391959798885" type="Enemy_2">
                                    <param id="0" name="Instance variable">Idle</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Bullet" id="5" name="Set enabled" sid="360126427418356" type="Enemy_2">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="Sine" id="0" name="Set active" sid="679793476802509" type="Enemy_2">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action id="-21" name="Rotate toward position" sid="890881045281701" type="Enemy_2">
                                    <param id="0" name="Degrees">10</param>
                                    <param id="1" name="X">Player.X</param>
                                    <param id="2" name="Y">Player.Y</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="795304729197750">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="195995452947236" type="bullet_player">
                                    <param id="0" name="Object">Enemy_2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="115827165718969" type="Enemy_2">
                                    <param id="0" name="Instance variable">Vida</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-9" name="Destroy" sid="776121498532852" type="bullet_player" />
                            </actions>
                        </event-block>
                        <event-block sid="324242708445914">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="437437908123687" type="Enemy_2">
                                    <param id="0" name="Instance variable">Vida</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="884051197443498" type="Enemy_2" />
                            </actions>
                        </event-block>
                        <event-block sid="975773471397015">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="748455851790860" type="Enemy_2">
                                    <param id="0" name="Object">Player</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="914986823067121" type="Enemy_2" />
                                <action behavior="Flash" id="0" name="Flash" sid="155732642817072" type="Player">
                                    <param id="0" name="&apos;On&apos; time">0.1</param>
                                    <param id="1" name="&apos;Off&apos; time">0.1</param>
                                    <param id="2" name="Duration">2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="159050392427719" title="Inimigo 3: Torreta armadilha">
                    <sub-events>
                        <event-block sid="404463162000043">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="636094910296885" type="Player">
                                    <param id="0" name="Object">Trap</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="794921971073593">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="507945735224312" type="Trap">
                                            <param id="0" name="Instance variable">Trap_ID</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="789162755345861" type="System">
                                            <param id="0" name="Object to create">Enemy_1</param>
                                            <param id="1" name="Layer">4</param>
                                            <param id="2" name="X">1200</param>
                                            <param id="3" name="Y">1792</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="679397880977433" type="Trap" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="670326600129185" title="Inimigo 4: Atirador">
                    <sub-events>
                        <comment>Comando de movimento</comment>
                        <event-block sid="735061134626306">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="166251855700064" type="Enemy_4">
                                    <param id="0" name="Instance variable">Dir</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;Left&quot;</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="986975406809831" type="Enemy_4">
                                    <param id="0" name="Instance variable">Atacando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="414570613471599" type="Enemy_4">
                                    <param id="0" name="Control">0</param>
                                </action>
                                <action id="7" name="Set mirrored" sid="729039263408533" type="Enemy_4">
                                    <param id="0" name="State">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="910756143828256">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="514092470225276" type="Enemy_4">
                                    <param id="0" name="Instance variable">Dir</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;Right&quot;</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="550932781233208" type="Enemy_4">
                                    <param id="0" name="Instance variable">Atacando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="118682400450252" type="Enemy_4">
                                    <param id="0" name="Control">1</param>
                                </action>
                                <action id="7" name="Set mirrored" sid="357988616825259" type="Enemy_4">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="691891858727821">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="896412850681520" type="Enemy_4">
                                    <param id="0" name="Object">Pivot_Point</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="796982314998363" type="Enemy_4">
                                    <param id="0" name="Instance variable">Dir</param>
                                    <param id="1" name="Value">Pivot_Point.ID</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Mudança para modo de ataque</comment>
                        <event-block sid="614912649418857">
                            <conditions>
                                <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="123774270847094" type="Enemy_4">
                                    <param id="0" name="Object">Player</param>
                                </condition>
                                <condition id="-9" name="Is visible" sid="957323095696009" type="Player" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="740323268528467" type="Enemy_4">
                                    <param id="0" name="Instance variable">Atacando</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="691402722825399" type="Enemy_4">
                                    <param id="0" name="Object">Enemy_Arm</param>
                                    <param id="1" name="Layer">4</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="887732959184139" type="Enemy_Arm">
                                    <param id="0" name="Pin to">Enemy_Arm</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action behavior="LineOfSight" id="1" name="Set cone of view" sid="361479966627870" type="Enemy_4">
                                    <param id="0" name="Cone of view">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="138177583223066">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="898720910357228" type="Enemy_4">
                                    <param id="0" name="Instance variable">Atacando</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Turret" id="0" name="Acquire target" sid="476869193932934" type="Enemy_Arm">
                                    <param id="0" name="Target">Player</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="591852790586854">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="197434220643814" type="Player">
                                            <param id="0" name="Comparison">2</param>
                                            <param id="1" name="X co-ordinate">enemy_4.X</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="732488733194354" type="Enemy_4">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="387534249535147">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="536582392347627" type="Player">
                                            <param id="0" name="Comparison">4</param>
                                            <param id="1" name="X co-ordinate">enemy_4.X</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="7" name="Set mirrored" sid="910828668364947" type="Enemy_4">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="400107237429923">
                            <conditions>
                                <condition behavior="Turret" id="1" name="On shoot" sid="791131929103164" type="Enemy_Arm" />
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="985341271381263" type="Enemy_Arm">
                                    <param id="0" name="Object">bullet_enemy</param>
                                    <param id="1" name="Layer">4</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="601213375517147">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="609753662528297" type="bullet_player">
                                    <param id="0" name="Object">Enemy_4</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="318852394022649" type="Enemy_4">
                                    <param id="0" name="Instance variable">Life</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-9" name="Destroy" sid="946785768859376" type="bullet_player" />
                            </actions>
                        </event-block>
                        <event-block sid="362113489377674">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="770918660811334" type="Enemy_4">
                                    <param id="0" name="Instance variable">Life</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="588031585977986" type="Enemy_4" />
                                <action id="-9" name="Destroy" sid="238102190374816" type="Enemy_Arm" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="950073288918438" title="Vida e dano">
            <sub-events>
                <event-block sid="948721396750595">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="326342262204994" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="257298172354180" type="Vida">
                            <param id="0" name="Text">&quot;Vida:&quot; &amp;Life</param>
                        </action>
                        <action id="-5" name="Set width" sid="638715772391366" type="Lifebar">
                            <param id="0" name="Width">Lifebar.MaxWidth*Life/10</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="452988793133898">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="302108877518874" type="bullet_enemy">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition behavior="Flash" id="0" inverted="1" name="Is flashing" sid="411622310836467" type="Player" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="777128002519843" type="bullet_enemy" />
                        <action id="-11" name="Subtract from" sid="480984625072203" type="System">
                            <param id="0" name="Variable">Life</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action behavior="Flash" id="0" name="Flash" sid="450981846813350" type="Player">
                            <param id="0" name="&apos;On&apos; time">0.1</param>
                            <param id="1" name="&apos;Off&apos; time">0.1</param>
                            <param id="2" name="Duration">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="989325346925117">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="410218189791892" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="132233518124329" type="DEBUG">
                            <param id="0" name="Text">&quot;Correndo: &quot;&amp;Player.Correndo&amp;&quot;  Agachada: &quot;&amp;Player.Agachando&amp;&quot; Deslizando: &quot;&amp;Player.Deslizando&amp;&quot;  Velocidade Maxima: &quot;&amp;Player.Platform.MaxSpeed&amp;&quot; Velocidade: &quot;&amp;Player.Platform.Speed</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="175512563638359">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="820604203941426" type="System">
                            <param id="0" name="First value">Life</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Second value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="266091085073060" type="Player" />
                        <action id="-9" name="Destroy" sid="750584571406888" type="Braço" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment>Interação com o menu</comment>
        <event-block sid="346726265483208">
            <conditions>
                <condition id="0" name="On key pressed" sid="975080926610942" type="Keyboard">
                    <param id="0" name="Key">27</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="693939328912408" type="System">
                    <param id="0" name="Layout">L_Menu</param>
                </action>
            </actions>
        </event-block>
        <comment>Destruir a HUD quando acabar o Layout</comment>
        <event-block sid="239776340733817">
            <conditions>
                <condition id="-3" name="On end of layout" sid="286867389621552" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="785605196624685" type="Ammo" />
                <action id="-9" name="Destroy" sid="662591618806128" type="Vida" />
                <action id="-9" name="Destroy" sid="102795097937720" type="DEBUG" />
                <action id="-9" name="Destroy" sid="811571323493739" type="Lifebar" />
            </actions>
        </event-block>
        <comment>Criar HUD quando o layout começa</comment>
        <event-block sid="297477123984476">
            <conditions>
                <condition id="-2" name="On start of layout" sid="849117450305836" type="System" />
            </conditions>
            <actions>
                <action id="-3" name="Create object" sid="432681965014136" type="System">
                    <param id="0" name="Object to create">Vida</param>
                    <param id="1" name="Layer">5</param>
                    <param id="2" name="X">0</param>
                    <param id="3" name="Y">0</param>
                </action>
                <action id="-3" name="Create object" sid="305109178889575" type="System">
                    <param id="0" name="Object to create">Ammo</param>
                    <param id="1" name="Layer">5</param>
                    <param id="2" name="X">0</param>
                    <param id="3" name="Y">32</param>
                </action>
                <action id="-3" name="Create object" sid="772061511085906" type="System">
                    <param id="0" name="Object to create">DEBUG</param>
                    <param id="1" name="Layer">5</param>
                    <param id="2" name="X">0</param>
                    <param id="3" name="Y">62</param>
                </action>
                <action id="-3" name="Create object" sid="740429954615439" type="System">
                    <param id="0" name="Object to create">Lifebar</param>
                    <param id="1" name="Layer">5</param>
                    <param id="2" name="X">64</param>
                    <param id="3" name="Y">0</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
